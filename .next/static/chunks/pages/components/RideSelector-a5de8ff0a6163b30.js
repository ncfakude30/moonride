(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{8269:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/RideSelector",function(){return e(9892)}])},9892:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return _}});var t=e(5666),i=e.n(t),c=e(5893),o=e(7294),u=e(4995),s=[{imgUrl:"https://i.ibb.co/cyvcpfF/uberx.png",service:"UberX",multiplier:1},{imgUrl:"https://i.ibb.co/YDYMKny/uberxl.png",service:"UberXL",multiplier:1.5},{imgUrl:"https://i.ibb.co/Xx4G91m/uberblack.png",service:"Black",multiplier:2},{imgUrl:"https://i.ibb.co/cyvcpfF/uberx.png",service:"Comfort",multiplier:1.2},{imgUrl:" https://i.ibb.co/1nStPWT/uberblacksuv.png",service:"Black SUV",multiplier:2.8}];function f(n,r,e,t,i,c,o){try{var u=n[c](o),s=u.value}catch(f){return void e(f)}u.done?r(s):Promise.resolve(s).then(t,i)}function a(n){return function(){var r=this,e=arguments;return new Promise((function(t,i){var c=n.apply(r,e);function o(n){f(c,t,i,o,u,"next",n)}function u(n){f(c,t,i,o,u,"throw",n)}o(void 0)}))}}function l(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}function v(){var n=l(["\n    flex-1 overflow-y-scroll flex flex-col\n"]);return v=function(){return n},n}function p(){var n=l(["\n    text-gray-500 text-center text-xs py-2 border-b\n"]);return p=function(){return n},n}function d(){var n=l(["\n    overflow-y-scroll\n"]);return d=function(){return n},n}function x(){var n=l(["bg-gray-200 border-2 border-blue-500"]);return x=function(){return n},n}function b(){var n=l(["\n    flex p-4 items-center cursor-pointer\n    ","\n"]);return b=function(){return n},n}function h(){var n=l(["\n    h-14 mr-4\n"]);return h=function(){return n},n}function m(){var n=l(["\n    flex-1\n"]);return m=function(){return n},n}function w(){var n=l(["\n    font-medium\n"]);return w=function(){return n},n}function g(){var n=l(["\n    text-xs text-blue-500\n"]);return g=function(){return n},n}function k(){var n=l(["\n    text-sm\n"]);return k=function(){return n},n}var j={ZA:"ZAR",US:"USD"},y=function(n){return j[n]||"USD"},U=a(i().mark((function n(){var r,e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("https://ipapi.co/country_code/");case 3:return r=n.sent,n.next=6,r.text();case 6:return e=n.sent,n.abrupt("return",e);case 10:return n.prev=10,n.t0=n.catch(0),console.error("Error fetching country code:",n.t0),n.abrupt("return","US");case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));var _=function(n){var r=n.pickupCoordinates,e=n.dropoffCoordinates,t=n.onSelectRide,u=(0,o.useState)(0),f=u[0],l=u[1],v=(0,o.useState)(null),p=v[0],d=v[1],x=(0,o.useState)("USD"),b=(x[0],x[1]);return(0,o.useEffect)((function(){a(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U();case 2:r=n.sent,b(y(r));case 4:case"end":return n.stop()}}),n)})))()}),[]),(0,o.useEffect)((function(){fetch("https://api.mapbox.com/directions/v5/mapbox/driving/".concat(r[0],",").concat(r[1],";").concat(e[0],",").concat(e[1],"?access_token=pk.eyJ1IjoibmNmY29ycCIsImEiOiJjbTBpY3Z6YnAwN240MmxzOXV2dnNzNzEwIn0.oVdWZdXHm_FMRDU2s4mAxQ")).then((function(n){if(!n.ok)throw new Error("Network response was not ok");return n.json()})).then((function(n){var r;n.routes&&n.routes.length>0&&l((null===(r=n.routes[0])||void 0===r?void 0:r.duration)/60)})).catch((function(n){return console.error("Fetch error:",n)}))}),[r,e]),(0,c.jsxs)(S,{children:[(0,c.jsx)(Z,{children:"Choose a ride, or swipe up for more"}),(0,c.jsx)(E,{children:s.map((function(n,r){return(0,c.jsxs)(N,{onClick:function(){return function(n){d(n),t(n)}(n)},isSelected:(null===p||void 0===p?void 0:p.service)===n.service,children:[(0,c.jsx)(C,{src:n.imgUrl}),(0,c.jsxs)(O,{children:[(0,c.jsx)(X,{children:n.service}),(0,c.jsx)(P,{children:"5 min away"})]}),(0,c.jsxs)(z,{children:["R",(f*n.multiplier).toFixed(2)]})]},r)}))})]})},S=u.Z.div(v()),Z=u.Z.div(p()),E=u.Z.div(d()),N=u.Z.div(b(),(function(n){return n.isSelected&&(0,u.Z)(x())})),C=u.Z.img(h()),O=u.Z.div(m()),X=u.Z.div(w()),P=u.Z.div(g()),z=u.Z.div(k())}},function(n){n.O(0,[995,774,888,179],(function(){return r=8269,n(n.s=r);var r}));var r=n.O();_N_E=r}]);